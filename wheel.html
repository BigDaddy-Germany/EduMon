<!DOCTYPE html>
<html>
    <head>
        <title>Lunch Wheel</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="lib/jquery/js/jquery.min.js"></script>
        <script src="lib/excanvas/js/excanvas.js"></script>
        <script src="js/EduMon.Math.js"></script>
        <script src="js/EduMon.Util.js"></script>
        <script src="js/EduMon.Wheel.js"></script>
        <script src="js/EduMon.Wheel.Controller.js"></script>
    </head>
    <body>
        <div id="wheel">
            <canvas id="canvas" width="1000" height="600"></canvas>
        </div>
        <script>
            var canvas = $('canvas');


            var controller = new EduMon.Wheel.Controller(window.opener, {
                showWheel: function(segments) {
                    var w = new EduMon.Wheel(canvas[0], segments, function(segment) {
                        controller.invoke("wheelFinished", segment);
                    });
                    canvas.on('click', function() {
                        canvas.off('click');
                        w.start();
                    });
                }
            });
        </script>
    </body>
</html>