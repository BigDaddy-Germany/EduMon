<!DOCTYPE html>
<html>
<head lang="en">
    <title>Test</title>
    <meta charset="UTF-8">
    <script src="lib/jquery/js/jquery.min.js"></script>
    <script src="js/EduMon.Util.js"></script>
    <script src="js/EduMon.Wheel.js"></script>
    <script src="js/EduMon.XWindowRPC.js"></script>
    <script>
        $(function() {

            var top = 0;
            var left = 0;
            var width = 1000;
            var height = 700;

            var button = $('button').first();
            button.on('click', function() {

                var wheel = EduMon.Util.openWindow("wheel.html", {
                    top: top,
                    left: left,
                    width: width,
                    height: height,
                    resizable: true
                }, "blank");
                wheel.onunload = function() {
                    top = wheel.screenY;
                    left = wheel.screenX;
                    width = $(wheel).width();
                    height = $(wheel).height();
                };

                $(wheel).ready(function() {


                    var controller = new EduMon.XWindowRPC(wheel, {
                        wheelFinished: function(segment) {
                            alert("Aand the winner is: " + segment);
                        }
                    });

                    var mode = 'slim';
                    $(window).on('keydown', function(e) {
                        if (e.which == 32) {
                            controller.invoke('showWheel', mode, [
                                ["Phillip Schichtel", 1.0],
                                ["Jonas Dann", 1.0],
                                ["Niko Berkmann", 1.0],
                                ["Marco DÃ¶rfler", 1.0]
                            ]).catch(function(e) {
                                throw e;
                            });
                        }
                    })
                });
            });
        });
    </script>
</head>
<body>
    <button type="button">Klick mich, ich bin ein Button!</button>
</body>
</html>
